{"mappings":"iiBAAA,IAAMA,EAAgBC,SAASC,eAAe,iBACxCC,EAAcF,SAASC,eAAe,eAE5CF,EAAcI,iBAAiB,SAAS,WACtCJ,EAAcK,UAAUC,IAAI,UAC5BH,EAAYE,UAAUE,OAAO,S,IAG/BJ,EAAYC,iBAAiB,SAAS,WACpCD,EAAYE,UAAUC,IAAI,UAC1BN,EAAcK,UAAUE,OAAO,S,qCCVjC,IAAAC,EAAAC,EAAA,S,uCAGMC,EAAcT,SAASU,cAAc,eACrCC,EAAiBX,SAASU,cAAc,oBACxCE,EAAgBZ,SAASU,cAAc,kBACvCG,EAAcb,SAASU,cAAc,gB,SAc5BI,EAA8BC,G,OAA9BC,EAA6BC,MAAAC,KAAAC,U,UAA7BH,I,OAAAA,EAAfI,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,EAA6CR,G,IACrCS,EACAC,EAQOC,EACDC,EACFC,E,yEAXJJ,EAAS,G,SACIK,EAAcd,G,aAA3BU,EAAIK,EAAAC,OAEEN,EAAKO,OAAS,GAAC,C,mBACzBvB,EAAYwB,UAAY,KAEpBR,GAAQA,EAAKO,OAAS,GAAC,C,gBACzBE,IAESR,EAAI,E,YAAGA,EAAID,EAAKO,QAAM,C,uBACvBL,EAAWF,EAAKC,G,WACJ,EAAAS,EAAAC,mBAAkBT,G,QACpCU,EADIT,EAAKE,EAAAC,MAETP,EAAOc,KAAKV,G,QAJmBF,I,+CAOjCQ,I,iCAGGV,G,6CApBmCP,MAAAC,KAAAC,U,CAuB5C,SAASU,EAAcd,GAErB,OADawB,KAAKC,MAAMC,aAAaC,QAAQ3B,G,CAI/C,SAASmB,IACPvB,EAAesB,UAAY,E,CAG7B,SAASI,EAAWZ,GAClB,IAAIkB,EAAO,GAETA,EADElB,EAAKmB,aACAnB,EAAKmB,aACHnB,EAAKoB,eACPpB,EAAKoB,eAEL,UAET,IAAMC,EAASrB,EAAKsB,YAChB,mCAAoDC,OAAjBvB,EAAKsB,aACxCE,QACEC,EAASzB,EAAKyB,OAAOC,KAAI,SAAAC,G,OAASA,EAAMC,E,IAC9C1C,EAAesB,WAAa,yCAIyCe,OAHnEvB,EAAK4B,GACN,oHAI0BL,OAF0CF,EAAO,iFAG1CE,OADPvB,EAAK6B,MAAM,4CACkBN,QAAtB,EAAAO,EAAAC,UAASN,GAAQ,OAAsBF,OAAjBL,EAAKc,MAAM,EAAG,GAAG,gB,CAhEzE7C,EAAYT,iBAAiB,SAAS,WACtCW,EAA8B,gB,IAG9BD,EAAUV,iBAAiB,SAAS,WACpCW,EAA8B,c,IAG7B4C,OAAIvD,iBAAiB,oBAAoB,WAC1CW,EAA8B,gB","sources":["src/scripts/header-mylibrary.js","src/scripts/show-gallery.js"],"sourcesContent":["const watchedButton = document.getElementById('watchedButton');\nconst queueButton = document.getElementById('queueButton');\n\nwatchedButton.addEventListener('click', function () {\n  watchedButton.classList.add('active');\n  queueButton.classList.remove('active');\n});\n\nqueueButton.addEventListener('click', function () {\n  queueButton.classList.add('active');\n  watchedButton.classList.remove('active');\n});\n","import { getInfoAboutMovie } from './api';\nimport { getGenre } from './genres';\n\nconst galleryIcon = document.querySelector('.movie-icon');\nconst galleryLibrary = document.querySelector('.gallery-library');\nconst watchedButton = document.querySelector('#watchedButton');\nconst queueButton = document.querySelector('#queueButton');\n// Kliknięcie przycisku watched wyświetla watchedMovies\nwatchedButton.addEventListener('click', () => {\n  displayMoviesFromLocalStorage('watchedMovies');\n});\n// Kliknięcie przycisku queue wyświetla queueMovies\nqueueButton.addEventListener('click', () => {\n  displayMoviesFromLocalStorage('queueMovies');\n});\n// Wejście na stronę wyświetla automatycznie watchedMovies\nwindow.addEventListener('DOMContentLoaded', () => {\n  displayMoviesFromLocalStorage('watchedMovies');\n});\n\nasync function displayMoviesFromLocalStorage(key) {\n  const movies = [];\n  const data = await getDataFromLS(key);\n  //Sprawdzanie czy localstorage jest pusty, jeśli nie jest to galleryIcon znika\n  if (data && data.length > 0) {\n    galleryIcon.innerHTML = '';\n\n    if (data && data.length > 0) {\n      clearGallery();\n\n      for (let i = 0; i < data.length; i++) {\n        const movie_id = data[i];\n        let movie = await getInfoAboutMovie(movie_id);\n        showMovies(movie);\n        movies.push(movie);\n      }\n    } else {\n      clearGallery();\n    }\n  }\n  return movies;\n}\n\nfunction getDataFromLS(key) {\n  const data = JSON.parse(localStorage.getItem(key));\n  return data;\n}\n// Czyszczenie galeri\nfunction clearGallery() {\n  galleryLibrary.innerHTML = '';\n}\n\nfunction showMovies(data) {\n  let date = '';\n  if (data.release_date) {\n    date = data.release_date;\n  } else if (data.first_air_date) {\n    date = data.first_air_date;\n  } else {\n    date = 'No date';\n  }\n  const poster = data.poster_path\n    ? `https://image.tmdb.org/t/p/w500/${data.poster_path}`\n    : noimage;\n  const genres = data.genres.map(genre => genre.id);\n  galleryLibrary.innerHTML += `<li class=\"card tracking\" data-movie=\"${\n    data.id\n  }\">\n    <div class=\"movie__info\">        \n      <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster}\" alt=\"movie-title\" loading=\"lazy\"/>\n    </div>\n    <p class=\"movie__name\">${data.title}</p>\n    <p class=\"movie__description\">${getGenre(genres)} | ${date.slice(0, 4)}</p>\n  </li>`;\n}\n"],"names":["$ea2da3e56cc3f0c5$var$watchedButton","document","getElementById","$ea2da3e56cc3f0c5$var$queueButton","addEventListener","classList","add","remove","$bpxeT","parcelRequire","$893c1ce29b843742$var$galleryIcon","querySelector","$893c1ce29b843742$var$galleryLibrary","$893c1ce29b843742$var$watchedButton","$893c1ce29b843742$var$queueButton","$893c1ce29b843742$var$displayMoviesFromLocalStorage","key","$893c1ce29b843742$var$_displayMoviesFromLocalStorage","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","movies","data","i","movie_id","movie","$893c1ce29b843742$var$getDataFromLS","_ctx","sent","length","innerHTML","$893c1ce29b843742$var$clearGallery","$2pRc6","getInfoAboutMovie","$893c1ce29b843742$var$showMovies","push","JSON","parse","localStorage","getItem","date","release_date","first_air_date","poster","poster_path","concat","noimage","genres","map","genre","id","title","$1TaP3","getGenre","slice","window"],"version":3,"file":"library.d27ccb0a.js.map"}