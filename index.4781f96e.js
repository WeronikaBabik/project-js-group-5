!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequire987d;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequire987d=a),a.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.4781f96e.js","dymoT":"noimage.10a54d7e.jpg","7mVsD":"index.8c352712.css","7nwxg":"library.d9bcaa86.js"}')),a("1TaP3"),a("7MLza"),a("2pRc6");var i,c=a("bpxeT"),s=a("2TvXO"),l=a("2pRc6"),u=(c=a("bpxeT"),s=a("2TvXO"),l=a("2pRc6"),a("1TaP3"));function d(){return p.apply(this,arguments)}function p(){return(p=t(c)(t(s).mark((function e(){var n;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getTrending)();case 2:n=e.sent,m.innerHTML=n.results.slice(0,12).map((function(e){var n="";n=e.release_date?e.release_date:e.first_air_date?e.first_air_date:"No date";var r=(0,u.getGenre)(e.genre_ids),o=e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):t(i);return'\n      <li class="card tracking" data-movie="'.concat(e.id,'">\n    <div class="movie__info">        \n      <img class="movie__image" src="https://image.tmdb.org/t/p/w500/').concat(o,'" alt="movie-title" loading="lazy"/>\n    </div>\n  <p class="movie__name">').concat(e.title,'</p>\n  <p class="movie__description"> ').concat(r,"\n   | ").concat(n.slice(0,4),"</p>\n</li>")})).join(""),h(document.querySelectorAll(".card"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("dymoT"),d();var f=a("6JpON"),m=(u=a("1TaP3"),document.querySelector(".gallery")),v=document.querySelector(".search-input"),_=document.querySelector(".modal"),g=(document.querySelector(".movie"),document.querySelector(".search-form")),b=document.querySelector(".modal");function h(e){e.forEach((function(e){e.addEventListener("click",(function(){return function(e){return y.apply(this,arguments)}(e)}))}))}function y(){return(y=t(c)(t(s).mark((function e(n){var r,o,a,c,d,p,f,m,v,g,h,y,E,w,S,L,T,O;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S=function(e){var t=w.indexOf(e);t>-1?(w.splice(t,1),localStorage.setItem("watchedMovies",JSON.stringify(w)),E.innerHTML="ADD TO WATCHED",E.style.backgroundColor="#fff"):(w.push(e),localStorage.setItem("watchedMovies",JSON.stringify(w)),E.innerHTML="DELETE FROM WATCHED",E.style.backgroundColor="#ff6b01")},O=function(e){var t=T.indexOf(e);t>-1?(T.splice(t,1),localStorage.setItem("queueMovies",JSON.stringify(T)),L.innerHTML="ADD TO QUEUE",L.style.backgroundColor="#fff"):(T.push(e),localStorage.setItem("queueMovies",JSON.stringify(T)),L.innerHTML="DELETE FROM QUEUE",L.style.backgroundColor="#ff6b01")},_.classList.add("show-popup"),r=n.getAttribute("data-movie"),e.next=6,(0,l.getInfoAboutMovie)(r);case 6:return o=e.sent,e.next=9,(0,l.getMovieTrailer)(r);case 9:a=e.sent,c=o.genres.map((function(e){return e.id})),d=o.poster_path?"https://image.tmdb.org/t/p/w500/".concat(o.poster_path):t(i),b.innerHTML='\n  <div class="modal__info">\n  <span class="modal__closeBtn" type="button">x</span>\n  <div class="container__img">\n  \n  <button class="button_trailer" type="button" id="button_trailer"\n  ></button>\n    <img class="img" src="'.concat(d,'" alt="').concat(o.title,'" />\n  </div>\n  <div class="container__text">\n    <div class="info__text">\n      <h1 class="info__title">').concat(o.title,'</h1>\n    </div>\n    <div class="info__movie">\n      <div class="info__name">\n        <p class="name">Vote / Votes</p>\n        <p class="name">Popularity</p>\n        <p class="name">Original Title</p>\n        <p class="name">Genre</p>\n      </div>\n      <div class="info__value">\n        <p class="value">\n          <span class="value__orange">').concat(o.vote_average,'</span> / <span class="value__white"\n            >').concat(o.vote_count,'</span\n          >\n        </p>\n        <p class="value">').concat(o.popularity,'</p>\n        <p class="value">').concat(o.original_title,'</p>\n        <p class="value">').concat((0,u.getGenre)(c),'</p>\n      </div>\n    </div>\n    <h2 class="about">ABOUT</h2>\n    <p class="about__text">').concat(o.overview,'</p>\n    <ul class="button">\n      <li class="button__item">\n        <button class="button__watched" type="button">ADD TO WATCHED</button>\n      </li>\n      <li class="button__item">\n        <button class="button__queue" type="button">ADD TO QUEUE</button>\n      </li>\n    </ul>\n  </div>\n</div>\n  <div class="trailer__modal trailerHiden ">Trailer<div class="trailer">\n  <iframe class="iframe" id="iframe" frameborder="0" border="0" cellspacing="0" allowfullscreen src="" title="Youtube">\n  </iframe>\n  <button class="button_trailer-close">X</button></div></div>\n  '),p=document.querySelector(".modal__closeBtn"),f=document.querySelector(".trailer__modal"),m=document.querySelector(".button_trailer-close"),v=document.querySelector(".button_trailer"),g=document.querySelector(".iframe"),h=document.querySelector(".trailer"),y=document.querySelector(".modal__info"),v.addEventListener("click",(function(){f.classList.remove("trailerHiden"),y.classList.add("hidden"),b.classList.add("overflow"),g.src="https://www.youtube.com/embed/".concat(a)})),h.addEventListener("click",(function(){f.classList.add("trailerHiden"),b.classList.remove("overflow"),y.classList.remove("hidden"),g.src=""})),m.addEventListener("click",(function(){f.classList.add("trailerHiden"),b.classList.remove("overflow"),g.src=""})),p.addEventListener("click",(function(){return _.classList.remove("show-popup")})),E=document.querySelector(".button__watched"),w=JSON.parse(localStorage.getItem("watchedMovies"))||[],w.indexOf(r)>-1?(E.innerHTML="DELETE FROM WATCHED",E.style.backgroundColor="#ff6b01"):E.style.backgroundColor="#fff",E.addEventListener("click",(function(){S(r)})),L=document.querySelector(".button__queue"),T=JSON.parse(localStorage.getItem("queueMovies"))||[],T.indexOf(r)>-1&&(L.innerHTML="DELETE FROM QUEUE",L.style.backgroundColor="#ff6b01"),L.addEventListener("click",(function(){O(r)}));case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=t(c)(t(s).mark((function e(n){var r,o;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=v.value,e.next=4,(0,l.getBySearch)(r,page=1);case 4:if(o=e.sent,console.log(o),0!==o.results.length){e.next=9;break}return d(),e.abrupt("return",t(f).Notify.failure("Oops, there is no movie with that name"));case 9:m.innerHTML=o.results.map((function(e){var n="";n=e.release_date?e.release_date:e.first_air_date?e.first_air_date:"No date";var r=(0,u.getGenre)(e.genre_ids),o=e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):t(i);return'\n    <li class="card tracking" data-movie="'.concat(e.id,'">\n      <div class="movie__info">        \n        <img class="movie__image" src="https://image.tmdb.org/t/p/w500/').concat(o,'" alt="movie-title" loading="lazy"/>\n      </div>\n    <p class="movie__name">').concat(e.title,'</p>\n    <p class="movie__description"> ').concat(r,"\n     | ").concat(n.slice(0,4),"</p>\n  </li>")})).join(""),h(document.querySelectorAll(".card"));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g.addEventListener("submit",(function(e){return E.apply(this,arguments)})),a("cWg52");var w=localStorage.getItem("theme")||"light";document.querySelector(".btn-switch").addEventListener("click",(function(){"dark"===w?(document.querySelector("body").classList.remove("dark"),w="light"):(document.querySelector("body").classList.add("dark"),w="dark"),localStorage.setItem("theme",w)})),"dark"===w&&document.querySelector("body").classList.add("dark"),a("hhzHx"),a("2lJ8w"),a("26D0h")}();
//# sourceMappingURL=index.4781f96e.js.map
