var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequire987d;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequire987d=n);const o=document.getElementById("watchedButton"),a=document.getElementById("queueButton");o.addEventListener("click",(function(){o.classList.add("active"),a.classList.remove("active")})),a.addEventListener("click",(function(){a.classList.add("active"),o.classList.remove("active")})),n("5oRYk"),n("aCSv8"),n("kZwB7");var s=n("2sKPt"),d=n("YttQV"),r=n("f19cm"),c=n("22MAz");const l=document.querySelector(".movie-icon"),u=document.querySelector(".gallery-library"),f=document.querySelector("#watchedButton"),p=document.querySelector("#queueButton");async function m(e){r.refs.paginationRef.classList.add("is-hidden");const t=[],i=await function(e){return JSON.parse(localStorage.getItem(e))}(e);if(i&&i.length>0)if(l.innerHTML="",r.refs.paginationRef.classList.add("is-hidden"),i&&i.length>0){v();for(let e=0;e<i.length;e++){const n=i[e];let o=await(0,s.getInfoAboutMovie)(n);g(o),t.push(o)}}else v();return t}function v(){u.innerHTML=""}function g(e){let t="";t=e.release_date?e.release_date:e.first_air_date?e.first_air_date:"No date";const i=e.poster_path?`https://image.tmdb.org/t/p/w500/${e.poster_path}`:"https://upload.wikimedia.org/wikipedia/commons/f/f7/No_Image_%282879926%29_-_The_Noun_Project.svg",n=e.genres.map((e=>e.id));u.innerHTML+=`<li class="card tracking" data-movie="${e.id}">\n    <div class="movie__info">        \n      <img class="movie__image" src="https://image.tmdb.org/t/p/w500/${i}" alt="movie-title" loading="lazy"/>\n    </div>\n    <p class="movie__name">${e.title}</p>\n    <p class="movie__description">${(0,d.getGenre)(n)} | ${t.slice(0,4)}</p>\n  </li>`;const o=document.querySelectorAll(".tracking");o.forEach((e=>{e.addEventListener("click",(()=>{!async function(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=d793dd4ca6e7be6c8e5a071661ccb72e`);t.ok||(reject(Notiflix.Notify.failure("Oops, there is no movie with that name")),"undefined"===e&&reject(Notiflix.Notify.failure("Oops, there is no movie with that name"))),await t.json()}(e.getAttribute("data-movie")),(0,c.showPopUp)(e)}))}))}r.refs.paginationRef.classList.add("is-hidden"),f.addEventListener("click",(()=>{m("watchedMovies")})),p.addEventListener("click",(()=>{m("queueMovies")})),window.addEventListener("DOMContentLoaded",(()=>{m("watchedMovies"),r.refs.paginationRef.classList.add("is-hidden")}));
//# sourceMappingURL=library.1176dfa0.js.map
