{"mappings":"oeAAA,MAAMA,EAAgBC,SAASC,eAAe,iBACxCC,EAAcF,SAASC,eAAe,eAE5CF,EAAcI,iBAAiB,SAAS,WACtCJ,EAAcK,UAAUC,IAAI,UAC5BH,EAAYE,UAAUE,OAAO,S,IAG/BJ,EAAYC,iBAAiB,SAAS,WACpCD,EAAYE,UAAUC,IAAI,UAC1BN,EAAcK,UAAUE,OAAO,S,qCCVjC,IAAAC,EAAAC,EAAA,S,0BAIA,MAAMC,EAAcT,SAASU,cAAc,eACrCC,EAAiBX,SAASU,cAAc,oBACxCE,EAAgBZ,SAASU,cAAc,kBACvCG,EAAcb,SAASU,cAAc,gBAgB3CI,eAAeC,EAA8BC,GAC3C,MAAMC,EAAS,GACTC,QAqBR,SAAuBF,GAErB,OADaG,KAAKC,MAAMC,aAAaC,QAAQN,G,CAtB1BO,CAAcP,GAEjC,GAAIE,GAAQA,EAAKM,OAAS,EAGxB,GAFAf,EAAYgB,UAAY,GACxBC,EAAAC,KAAKC,cAAcxB,UAAUE,OAAO,aAChCY,GAAQA,EAAKM,OAAS,EAAG,CAC3BK,IAEA,IAAK,IAAIC,EAAI,EAAGA,EAAIZ,EAAKM,OAAQM,IAAK,CACpC,MAAMC,EAAWb,EAAKY,GACtB,IAAIE,QAAc,EAAAzB,EAAA0B,mBAAkBF,GACpCG,EAAWF,GACXf,EAAOkB,KAAKH,E,OAGdH,IAGJ,OAAOZ,C,CAQT,SAASY,IACPlB,EAAec,UAAY,E,CAG7B,SAASS,EAAWhB,GAClB,IAAIkB,EAAO,GAETA,EADElB,EAAKmB,aACAnB,EAAKmB,aACHnB,EAAKoB,eACPpB,EAAKoB,eAEL,UAET,MAAMC,EAASrB,EAAKsB,YAChB,mCAAmCtB,EAAKsB,cACxCC,QACEC,EAASxB,EAAKwB,OAAOC,KAAIC,GAASA,EAAMC,KAC9ClC,EAAec,WAAa,yCAC1BP,EAAK2B,qHAG8DN,iFAE1CrB,EAAK4B,iDACE,EAAAC,EAAAC,UAASN,QAAaN,EAAKa,MAAM,EAAG,iB,CAlExEvB,EAAAC,KAAKC,cAAcxB,UAAUC,IAAI,aAE/BO,EAAYT,iBAAiB,SAAS,KACtCY,EAA8B,gBAAgB,IAG9CF,EAAUV,iBAAiB,SAAS,KACpCY,EAA8B,cAAc,IAG3CmC,OAAI/C,iBAAiB,oBAAoB,KAC1CY,EAA8B,gBAAgB","sources":["src/scripts/header-mylibrary.js","src/scripts/show-gallery.js"],"sourcesContent":["const watchedButton = document.getElementById('watchedButton');\nconst queueButton = document.getElementById('queueButton');\n\nwatchedButton.addEventListener('click', function () {\n  watchedButton.classList.add('active');\n  queueButton.classList.remove('active');\n});\n\nqueueButton.addEventListener('click', function () {\n  queueButton.classList.add('active');\n  watchedButton.classList.remove('active');\n});\n","import { getInfoAboutMovie } from './api';\nimport { getGenre } from './genres';\nimport { refs } from './pagination-refs';\n\nconst galleryIcon = document.querySelector('.movie-icon');\nconst galleryLibrary = document.querySelector('.gallery-library');\nconst watchedButton = document.querySelector('#watchedButton');\nconst queueButton = document.querySelector('#queueButton');\n\nrefs.paginationRef.classList.add('is-hidden');\n// Kliknięcie przycisku watched wyświetla watchedMovies\nwatchedButton.addEventListener('click', () => {\n  displayMoviesFromLocalStorage('watchedMovies');\n});\n// Kliknięcie przycisku queue wyświetla queueMovies\nqueueButton.addEventListener('click', () => {\n  displayMoviesFromLocalStorage('queueMovies');\n});\n// Wejście na stronę wyświetla automatycznie watchedMovies\nwindow.addEventListener('DOMContentLoaded', () => {\n  displayMoviesFromLocalStorage('watchedMovies');\n});\n\nasync function displayMoviesFromLocalStorage(key) {\n  const movies = [];\n  const data = await getDataFromLS(key);\n  //Sprawdzanie czy localstorage jest pusty, jeśli nie jest to galleryIcon znika\n  if (data && data.length > 0) {\n    galleryIcon.innerHTML = '';\n    refs.paginationRef.classList.remove('is-hidden');\n    if (data && data.length > 0) {\n      clearGallery();\n\n      for (let i = 0; i < data.length; i++) {\n        const movie_id = data[i];\n        let movie = await getInfoAboutMovie(movie_id);\n        showMovies(movie);\n        movies.push(movie);\n      }\n    } else {\n      clearGallery();\n    }\n  }\n  return movies;\n}\n\nfunction getDataFromLS(key) {\n  const data = JSON.parse(localStorage.getItem(key));\n  return data;\n}\n// Czyszczenie galeri\nfunction clearGallery() {\n  galleryLibrary.innerHTML = '';\n}\n\nfunction showMovies(data) {\n  let date = '';\n  if (data.release_date) {\n    date = data.release_date;\n  } else if (data.first_air_date) {\n    date = data.first_air_date;\n  } else {\n    date = 'No date';\n  }\n  const poster = data.poster_path\n    ? `https://image.tmdb.org/t/p/w500/${data.poster_path}`\n    : noimage;\n  const genres = data.genres.map(genre => genre.id);\n  galleryLibrary.innerHTML += `<li class=\"card tracking\" data-movie=\"${\n    data.id\n  }\">\n    <div class=\"movie__info\">        \n      <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster}\" alt=\"movie-title\" loading=\"lazy\"/>\n    </div>\n    <p class=\"movie__name\">${data.title}</p>\n    <p class=\"movie__description\">${getGenre(genres)} | ${date.slice(0, 4)}</p>\n  </li>`;\n}\n"],"names":["$fd4b38a49a520de1$var$watchedButton","document","getElementById","$fd4b38a49a520de1$var$queueButton","addEventListener","classList","add","remove","$2sKPt","parcelRequire","$e12d98903aaa60fe$var$galleryIcon","querySelector","$e12d98903aaa60fe$var$galleryLibrary","$e12d98903aaa60fe$var$watchedButton","$e12d98903aaa60fe$var$queueButton","async","$e12d98903aaa60fe$var$displayMoviesFromLocalStorage","key","movies","data","JSON","parse","localStorage","getItem","$e12d98903aaa60fe$var$getDataFromLS","length","innerHTML","$f19cm","refs","paginationRef","$e12d98903aaa60fe$var$clearGallery","i","movie_id","movie","getInfoAboutMovie","$e12d98903aaa60fe$var$showMovies","push","date","release_date","first_air_date","poster","poster_path","noimage","genres","map","genre","id","title","$YttQV","getGenre","slice","window"],"version":3,"file":"library.924da1a2.js.map"}