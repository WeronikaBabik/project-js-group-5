{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a3ad9b23df93e988.js","src/scripts/main-body.js","src/scripts/get-trending.js","node_modules/@parcel/runtime-js/lib/runtime-d658330067c55254.js","src/scripts/switchBtn.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.c6e3f342.js\\\",\\\"80Vjd\\\":\\\"noimage.10a54d7e.jpg\\\",\\\"7mVsD\\\":\\\"index.8c352712.css\\\",\\\"eM9ss\\\":\\\"library.f6818b33.js\\\"}\"));","import { getMovieTrailer, getBySearch, getInfoAboutMovie } from './api';\nimport { showGallery } from './get-trending';\nimport Notiflix from 'notiflix';\nimport { getGenre } from './genres';\nimport noimage from '../images/header-main/noimage.jpg';\n\nexport const mainGallery = document.querySelector('.gallery');\nexport const input = document.querySelector('.search-input');\nconst modalCard = document.querySelector('.modal');\nconst movie = document.querySelector('.movie');\nconst searchForm = document.querySelector('.search-form');\nconst modal = document.querySelector('.modal');\n\nsearchForm.addEventListener('submit', showResultsOnSearch);\n\nexport function addEventToCard(cards) {\n  cards.forEach(card => {\n    card.addEventListener('click', () => showPopUp(card));\n  });\n}\nexport async function showPopUp(card) {\n  modalCard.classList.add('show-popup');\n  const movieId = card.getAttribute('data-movie');\n\n  const movie = await getInfoAboutMovie(movieId);\n  const movieTrailer = await getMovieTrailer(movieId);\n  const genres = movie.genres.map(genre => genre.id);\n  const poster = movie.poster_path\n    ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n    : noimage;\n  modal.innerHTML = `\n  <div class=\"modal__info\">\n  <span class=\"modal__closeBtn\" type=\"button\">x</span>\n  <div class=\"container__img\">\n  \n  <button class=\"button_trailer\" type=\"button\" id=\"button_trailer\"\n  ></button>\n    <img class=\"img\" src=\"${poster}\" alt=\"${movie.title}\" />\n  </div>\n  <div class=\"container__text\">\n    <div class=\"info__text\">\n      <h1 class=\"info__title\">${movie.title}</h1>\n    </div>\n    <div class=\"info__movie\">\n      <div class=\"info__name\">\n        <p class=\"name\">Vote / Votes</p>\n        <p class=\"name\">Popularity</p>\n        <p class=\"name\">Original Title</p>\n        <p class=\"name\">Genre</p>\n      </div>\n      <div class=\"info__value\">\n        <p class=\"value\">\n          <span class=\"value__orange\">${\n            movie.vote_average\n          }</span> / <span class=\"value__white\"\n            >${movie.vote_count}</span\n          >\n        </p>\n        <p class=\"value\">${movie.popularity}</p>\n        <p class=\"value\">${movie.original_title}</p>\n        <p class=\"value\">${getGenre(genres)}</p>\n      </div>\n    </div>\n    <h2 class=\"about\">ABOUT</h2>\n    <p class=\"about__text\">${movie.overview}</p>\n    <ul class=\"button\">\n      <li class=\"button__item\">\n        <button class=\"button__watched\" type=\"button\">ADD TO WATCHED</button>\n      </li>\n      <li class=\"button__item\">\n        <button class=\"button__queue\" type=\"button\">ADD TO QUEUE</button>\n      </li>\n    </ul>\n  </div>\n</div>\n  <div class=\"trailer__modal trailerHiden \">Trailer<div class=\"trailer\">\n  <iframe class=\"iframe\" id=\"iframe\" frameborder=\"0\" border=\"0\" cellspacing=\"0\" allowfullscreen src=\"\" title=\"Youtube\">\n  </iframe>\n  <button class=\"button_trailer-close\">X</button></div></div>\n  `;\n  const modalCloseBtn = document.querySelector('.modal__closeBtn');\n  const traileModal = document.querySelector('.trailer__modal');\n  const buttonTrailerClose = document.querySelector('.button_trailer-close');\n  const buttonTrailer = document.querySelector('.button_trailer');\n  let video = document.querySelector('.iframe');\n  const trailer = document.querySelector('.trailer');\n  const modalInfo = document.querySelector('.modal__info');\n\n  buttonTrailer.addEventListener('click', () => {\n    traileModal.classList.remove('trailerHiden');\n    // modal.classList.remove('modal')\n    modalInfo.classList.add('hidden');\n    modal.classList.add('overflow');\n\n    video.src = `https://www.youtube.com/embed/${movieTrailer}`;\n  });\n\n  trailer.addEventListener('click', () => {\n    traileModal.classList.add('trailerHiden');\n    modal.classList.remove('overflow');\n    modalInfo.classList.remove('hidden');\n    video.src = '';\n  });\n\n  buttonTrailerClose.addEventListener('click', () => {\n    traileModal.classList.add('trailerHiden');\n    modal.classList.remove('overflow');\n    video.src = '';\n  });\n  modalCloseBtn.addEventListener('click', () =>\n    modalCard.classList.remove('show-popup')\n  );\n\n  // Dodawanie do watched\n  const buttonWatched = document.querySelector('.button__watched');\n  const watchedMovies = JSON.parse(localStorage.getItem('watchedMovies')) || [];\n  const movieIndexInWatched = watchedMovies.indexOf(movieId);\n\n  if (movieIndexInWatched > -1) {\n    buttonWatched.innerHTML = 'DELETE FROM WATCHED';\n    buttonWatched.style.backgroundColor = '#ff6b01';\n  } else {\n    buttonWatched.style.backgroundColor = '#fff';\n  }\n\n  buttonWatched.addEventListener('click', () => {\n    addToWatched(movieId);\n  });\n\n  function addToWatched(movieId) {\n    const movieIndex = watchedMovies.indexOf(movieId);\n\n    if (movieIndex > -1) {\n      // Film jest już zapisany w zakładce Watched, więc usuń go\n      watchedMovies.splice(movieIndex, 1);\n      localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));\n      buttonWatched.innerHTML = 'ADD TO WATCHED';\n      buttonWatched.style.backgroundColor = '#fff';\n    } else {\n      // Film nie jest zapisany w zakładce Watched, dodaj go\n      watchedMovies.push(movieId);\n      localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));\n      buttonWatched.innerHTML = 'DELETE FROM WATCHED';\n      buttonWatched.style.backgroundColor = '#ff6b01';\n    }\n  }\n\n  // Dodawanie do Queue\n  const buttonQueue = document.querySelector('.button__queue');\n  const queueMovies = JSON.parse(localStorage.getItem('queueMovies')) || [];\n  const movieIndexInQueue = queueMovies.indexOf(movieId);\n\n  if (movieIndexInQueue > -1) {\n    buttonQueue.innerHTML = 'DELETE FROM QUEUE';\n    buttonQueue.style.backgroundColor = '#ff6b01';\n  }\n\n  buttonQueue.addEventListener('click', () => {\n    addToQueue(movieId);\n  });\n\n  function addToQueue(movieId) {\n    const movieIndex = queueMovies.indexOf(movieId);\n\n    if (movieIndex > -1) {\n      // Film jest już zapisany w zakładce Queue, więc usuń go\n      queueMovies.splice(movieIndex, 1);\n      localStorage.setItem('queueMovies', JSON.stringify(queueMovies));\n      buttonQueue.innerHTML = 'ADD TO QUEUE';\n      buttonQueue.style.backgroundColor = '#fff';\n    } else {\n      // Film nie jest zapisany w zakładce Queue, dodaj go\n      queueMovies.push(movieId);\n      localStorage.setItem('queueMovies', JSON.stringify(queueMovies));\n      buttonQueue.innerHTML = 'DELETE FROM QUEUE';\n      buttonQueue.style.backgroundColor = '#ff6b01';\n    }\n  }\n}\n\nasync function showResultsOnSearch(e) {\n  e.preventDefault();\n  const query = input.value;\n  const data = await getBySearch(query);\n  if (data.length === 0) {\n    showGallery();\n    return Notiflix.Notify.failure('Oops, there is no movie with that name');\n  }\n  mainGallery.innerHTML = data\n    .map(movie => {\n      let date = '';\n      if (movie.release_date) {\n        date = movie.release_date;\n      } else if (movie.first_air_date) {\n        date = movie.first_air_date;\n      } else {\n        date = `No date`;\n      }\n      const genre = getGenre(movie.genre_ids);\n      const poster = movie.poster_path\n        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n        : noimage;\n      return `\n    <li class=\"card tracking\" data-movie=\"${movie.id}\">\n      <div class=\"movie__info\">        \n        <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster}\" alt=\"movie-title\" loading=\"lazy\"/>\n      </div>\n    <p class=\"movie__name\">${movie.title}</p>\n    <p class=\"movie__description\"> ${genre}\n     | ${date.slice(0, 4)}</p>\n  </li>`;\n    })\n    .join('');\n  const cards = document.querySelectorAll('.card');\n  addEventToCard(cards);\n}\n","import { getTrending } from './api';\nimport { mainGallery } from './main-body';\nimport { getGenre } from './genres';\nimport { addEventToCard } from './main-body';\nimport noimage from '../images/header-main/noimage.jpg';\n\nshowGallery();\nexport async function showGallery() {\n  const data = await getTrending();\n  mainGallery.innerHTML = data\n    .slice(0, 12)\n    .map(e => {\n      let date = '';\n      if (e.release_date) {\n        date = e.release_date;\n      } else if (e.first_air_date) {\n        date = e.first_air_date;\n      } else {\n        date = `No date`;\n      }\n      const genre = getGenre(e.genre_ids);\n      const poster = e.poster_path\n        ? `https://image.tmdb.org/t/p/w500/${e.poster_path}`\n        : noimage;\n      return `\n      <li class=\"card tracking\" data-movie=\"${e.id}\">\n    <div class=\"movie__info\">        \n      <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster}\" alt=\"movie-title\" loading=\"lazy\"/>\n    </div>\n  <p class=\"movie__name\">${e.title}</p>\n  <p class=\"movie__description\"> ${genre}\n   | ${date.slice(0, 4)}</p>\n</li>`;\n    })\n    .join('');\n  const cards = document.querySelectorAll('.card');\n  addEventToCard(cards);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"80Vjd\")).toString();","//switch btn\nlet theme = localStorage.getItem('theme') || 'light';\nconst btnSwitch = document.querySelector('.btn-switch');\nbtnSwitch.addEventListener('click', function(){\n    if (theme === 'dark') {\n        document.querySelector('body').classList.remove('dark');\n        theme = 'light';\n    } else {\n        document.querySelector('body').classList.add('dark');\n        theme = 'dark';\n    }\n    localStorage.setItem('theme', theme);\n\n});\n\nif (theme === 'dark') {\n    document.querySelector('body').classList.add('dark');\n};"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$2sKPt","async","$b518a51c289d0161$export$1f7a8438a694c61f","data","getTrending","$17d17562b572bba6$export$6794bbbaf63d55ec","innerHTML","slice","map","e","date","release_date","first_air_date","genre","$YttQV","getGenre","genre_ids","poster","poster_path","$parcel$interopDefault","$e52f0a5157b02b58$exports","title","join","$17d17562b572bba6$export$3f56abfdedfa2945","document","querySelectorAll","URL","resolve","import","meta","url","toString","querySelector","$17d17562b572bba6$export$b7e3ae3d7c15e42e","$17d17562b572bba6$var$modalCard","$17d17562b572bba6$var$searchForm","$17d17562b572bba6$var$modal","cards","forEach","card","addEventListener","classList","add","movieId1","getAttribute","movie1","getInfoAboutMovie","movieTrailer","getMovieTrailer","genres","vote_average","vote_count","popularity","original_title","overview","modalCloseBtn","traileModal","buttonTrailerClose","buttonTrailer","video","trailer","modalInfo","remove","src","buttonWatched","watchedMovies","localStorage","getItem","indexOf","style","backgroundColor","addToWatched","movieId","movieIndex","splice","setItem","stringify","push","buttonQueue","queueMovies","addToQueue","$17d17562b572bba6$export$9e2928cdbf39782a","preventDefault","query","value","getBySearch","$7Y9D8","Notify","failure","movie2","$121ba982314efed9$var$theme"],"version":3,"file":"index.c6e3f342.js.map"}