{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a3ad9b23df93e988.js","src/scripts/main-body.js","src/scripts/get-trending.js","node_modules/@parcel/runtime-js/lib/runtime-d658330067c55254.js","src/scripts/switchBtn.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.d853e7f7.js\\\",\\\"80Vjd\\\":\\\"noimage.10a54d7e.jpg\\\",\\\"7mVsD\\\":\\\"index.36d2e493.css\\\",\\\"eM9ss\\\":\\\"library.6ddfc849.js\\\"}\"));","import { getMovieTrailer, getBySearch, getInfoAboutMovie } from './api';\nimport { showGallery } from './get-trending';\nimport noimage from '../images/header-main/noimage.jpg';\nimport { getGenre } from './genres';\nimport Notiflix from 'notiflix';\n\nexport const mainGallery = document.querySelector('.gallery');\nexport const input = document.querySelector('.search-input');\nconst modalCard = document.querySelector('.modal');\nconst movie = document.querySelector('.movie');\nconst searchForm = document.querySelector('.search-form');\nconst modal = document.querySelector('.modal');\n\nsearchForm.addEventListener('submit', showResultsOnSearch);\n\nexport function addEventToCard(cards) {\n  cards.forEach(card => {\n    card.addEventListener('click', () => showPopUp(card));\n  });\n}\nexport async function showPopUp(card) {\n  modalCard.classList.add('show-popup');\n  const movieId = card.getAttribute('data-movie');\n\n  const movie = await getInfoAboutMovie(movieId);\n  const movieTrailer = await getMovieTrailer(movieId);\n  const genres = movie.genres.map(genre => genre.id);\n  const poster = movie.poster_path\n    ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n    : noimage;\n  modal.innerHTML = `<span class=\"modal__closeBtn\" type=\"button\">x</span>\n  <button class=\"button_trailer\" type=\"button\" id=\"button_trailer\"\n  ></button>\n  <div class=\"modal__info\">\n  <div class=\"container__img\">\n    <img class=\"img\" src=\"${poster}\" alt=\"${movie.title}\" />\n  </div>\n  <div class=\"container__text\">\n    <div class=\"info__text\">\n      <h1 class=\"info__title\">${movie.title}</h1>\n    </div>\n    <div class=\"info__movie\">\n      <div class=\"info__name\">\n        <p class=\"name\">Vote / Votes</p>\n        <p class=\"name\">Popularity</p>\n        <p class=\"name\">Original Title</p>\n        <p class=\"name\">Genre</p>\n      </div>\n      <div class=\"info__value\">\n        <p class=\"value\">\n          <span class=\"value__orange\">${\n            movie.vote_average\n          }</span> / <span class=\"value__white\"\n            >${movie.vote_count}</span\n          >\n        </p>\n        <p class=\"value\">${movie.popularity}</p>\n        <p class=\"value\">${movie.original_title}</p>\n        <p class=\"value\">${getGenre(genres)}</p>\n      </div>\n    </div>\n    <h2 class=\"about\">About</h2>\n    <p class=\"about__text\">${movie.overview}</p>\n    <ul class=\"button\">\n      <li class=\"button__item\">\n        <button class=\"button__watched\" type=\"button\">ADD TO WATCHED</button>\n      </li>\n      <li class=\"button__item\">\n        <button class=\"button__queue\" type=\"button\">ADD TO QUEUE</button>\n      </li>\n    </ul>\n  </div>\n</div>\n  <div class=\"trailer__modal trailerHiden \">Trailer<div class=\"trailer\">\n  <iframe class=\"iframe\" id=\"iframe\" frameborder=\"0\" border=\"0\" cellspacing=\"0\" allowfullscreen src=\"\" title=\"Youtube\">\n  </iframe>\n  <button class=\"button_trailer-close\">X</button></div></div>\n  `;\n  const modalCloseBtn = document.querySelector('.modal__closeBtn');\n  const traileModal = document.querySelector('.trailer__modal');\n  const buttonTrailerClose = document.querySelector('.button_trailer-close');\n  const buttonTrailer = document.querySelector('.button_trailer');\n  let video = document.querySelector('.iframe');\n  const trailer = document.querySelector('.trailer');\n\n  buttonTrailer.addEventListener('click', () => {\n    traileModal.classList.remove('trailerHiden');\n    // modal.classList.remove('modal')\n    modal.classList.add('overflow');\n    video.src = `https://www.youtube.com/embed/${movieTrailer}`;\n  });\n\n  trailer.addEventListener('click', () => {\n    traileModal.classList.add('trailerHiden');\n    modal.classList.remove('overflow');\n    video.src = '';\n  });\n\n  buttonTrailerClose.addEventListener('click', () => {\n    traileModal.classList.add('trailerHiden');\n    modal.classList.remove('overflow');\n    video.src = '';\n  });\n  modalCloseBtn.addEventListener('click', () =>\n    modalCard.classList.remove('show-popup')\n  );\n\n  // Dodawanie do watched\n  const buttonWatched = document.querySelector('.button__watched');\n  const watchedMovies = JSON.parse(localStorage.getItem('watchedMovies')) || [];\n  const movieIndexInWatched = watchedMovies.indexOf(movieId);\n\n  if (movieIndexInWatched > -1) {\n    buttonWatched.innerHTML = 'DELETE FROM WATCHED';\n  }\n\n  buttonWatched.addEventListener('click', () => {\n    addToWatched(movieId);\n  });\n\n  function addToWatched(movieId) {\n    const movieIndex = watchedMovies.indexOf(movieId);\n\n    if (movieIndex > -1) {\n      // Film jest już zapisany w zakładce Watched, więc usuń go\n      watchedMovies.splice(movieIndex, 1);\n      localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));\n      buttonWatched.innerHTML = 'ADD TO WATCHED';\n    } else {\n      // Film nie jest zapisany w zakładce Watched, dodaj go\n      watchedMovies.push(movieId);\n      localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));\n      buttonWatched.innerHTML = 'DELETE FROM WATCHED';\n    }\n  }\n\n  // Dodawanie do Queue\n  const buttonQueue = document.querySelector('.button__queue');\n  const queueMovies = JSON.parse(localStorage.getItem('queueMovies')) || [];\n  const movieIndexInQueue = queueMovies.indexOf(movieId);\n\n  if (movieIndexInQueue > -1) {\n    buttonQueue.innerHTML = 'DELETE FROM QUEUE';\n  }\n\n  buttonQueue.addEventListener('click', () => {\n    addToQueue(movieId);\n  });\n\n  function addToQueue(movieId) {\n    const movieIndex = queueMovies.indexOf(movieId);\n\n    if (movieIndex > -1) {\n      // Film jest już zapisany w zakładce Queue, więc usuń go\n      queueMovies.splice(movieIndex, 1);\n      localStorage.setItem('queueMovies', JSON.stringify(queueMovies));\n      buttonQueue.innerHTML = 'ADD TO QUEUE';\n    } else {\n      // Film nie jest zapisany w zakładce Queue, dodaj go\n      queueMovies.push(movieId);\n      localStorage.setItem('queueMovies', JSON.stringify(queueMovies));\n      buttonQueue.innerHTML = 'DELETE FROM QUEUE';\n    }\n  }\n}\n\nasync function showResultsOnSearch(e) {\n  e.preventDefault();\n  const query = input.value;\n  const data = await getBySearch(query);\n  if (data.length === 0) {\n    showGallery();\n    return Notiflix.Notify.failure('Oops, there is no movie with that name');\n  }\n  console.log(data);\n  mainGallery.innerHTML = data\n    .map(movie => {\n      let date = '';\n      if (movie.release_date) {\n        date = movie.release_date;\n      } else if (movie.first_air_date) {\n        date = movie.first_air_date;\n      } else {\n        date = `No date`;\n      }\n      const genre = getGenre(movie.genre_ids);\n      const poster = movie.poster_path\n        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n        : noimage;\n      return `\n    <li class=\"card tracking\" data-movie=\"${movie.id}\">\n      <div class=\"movie__info\">        \n        <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster}\" alt=\"movie-title\" loading=\"lazy\"/>\n      </div>\n    <p class=\"movie__name\">${movie.title}</p>\n    <p class=\"movie__description\"> ${genre}\n     | ${date.slice(0, 4)}</p>\n  </li>`;\n    })\n    .join('');\n  const cards = document.querySelectorAll('.card');\n  addEventToCard(cards);\n}\n","import { getTrending } from './api';\nimport { mainGallery } from './main-body';\nimport { getGenre } from './genres';\nimport { addEventToCard } from './main-body';\nimport noimage from '../images/header-main/noimage.jpg';\n\nshowGallery();\nexport async function showGallery() {\n  const data = await getTrending();\n  mainGallery.innerHTML = data\n    .slice(0, 12)\n    .map(e => {\n      let date = '';\n      if (e.release_date) {\n        date = e.release_date;\n      } else if (e.first_air_date) {\n        date = e.first_air_date;\n      } else {\n        date = `No date`;\n      }\n      const genre = getGenre(e.genre_ids);\n      const poster = e.poster_path\n        ? `https://image.tmdb.org/t/p/w500/${e.poster_path}`\n        : noimage;\n      return `\n      <li class=\"card tracking\" data-movie=\"${e.id}\">\n    <div class=\"movie__info\">        \n      <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster}\" alt=\"movie-title\" loading=\"lazy\"/>\n    </div>\n  <p class=\"movie__name\">${e.title}</p>\n  <p class=\"movie__description\"> ${genre}\n   | ${date.slice(0, 4)}</p>\n</li>`;\n    })\n    .join('');\n  const cards = document.querySelectorAll('.card');\n  addEventToCard(cards);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"80Vjd\")).toString();","//switch btn\nlet theme = localStorage.getItem('theme') || 'light';\nconst btnSwitch = document.querySelector('.btn-switch');\nbtnSwitch.addEventListener('click', function(){\n    if (theme === 'dark') {\n        document.querySelector('body').classList.remove('dark');\n        theme = 'light';\n    } else {\n        document.querySelector('body').classList.add('dark');\n        theme = 'dark';\n    }\n    localStorage.setItem('theme', theme);\n\n});\n\nif (theme === 'dark') {\n    document.querySelector('body').classList.add('dark');\n};"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$2sKPt","async","$b518a51c289d0161$export$1f7a8438a694c61f","data","getTrending","$17d17562b572bba6$export$6794bbbaf63d55ec","innerHTML","slice","map","e","date","release_date","first_air_date","genre","$YttQV","getGenre","genre_ids","poster","poster_path","$parcel$interopDefault","$e52f0a5157b02b58$exports","title","join","$17d17562b572bba6$export$3f56abfdedfa2945","document","querySelectorAll","URL","resolve","import","meta","url","toString","querySelector","$17d17562b572bba6$export$b7e3ae3d7c15e42e","$17d17562b572bba6$var$modalCard","$17d17562b572bba6$var$searchForm","$17d17562b572bba6$var$modal","cards","forEach","card","addEventListener","classList","add","movieId1","getAttribute","movie1","getInfoAboutMovie","movieTrailer","getMovieTrailer","genres","vote_average","vote_count","popularity","original_title","overview","modalCloseBtn","traileModal","buttonTrailerClose","buttonTrailer","video","trailer","remove","src","buttonWatched","watchedMovies","localStorage","getItem","indexOf","addToWatched","movieId","movieIndex","splice","setItem","stringify","push","buttonQueue","queueMovies","addToQueue","$17d17562b572bba6$export$9e2928cdbf39782a","preventDefault","query","value","getBySearch","$7Y9D8","Notify","failure","console","log","movie2","$121ba982314efed9$var$theme"],"version":3,"file":"index.d853e7f7.js.map"}